(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";exports.state={name:"State",of:function(n){return function(t){return[n,t]}},chain:function(n,t){return function(r){return t(r).chain(function(t){var r=t[0],u=t[1];return[n(r),u]})}},lift:function(n){return function(t){return n.chain(function(n){return[n,t]})}},load:function(n){return function(n){return[n,n]}},save:function(n){return function(t){return[n,n]}}};

},{}],2:[function(require,module,exports){
"use strict";exports.id={name:"ID",of:function(n){return{idVal:n}},chain:function(n,t,r){return r.chain(function(t){return n(t.idVal)},t)},lift:function(n,t){return t.chain(function(t){return n.of({idVal:t})},n)}},exports.maybe={name:"Maybe",of:function(n){return{maybeVal:n}},chain:function(n,t,r){return r.chain(function(t){return void 0===t.maybeVal?t:n(t.maybeVal)},t)},lift:function(n,t){return t.chain(function(t){return n.of({maybeVal:t})},n)},get:function(n,t){return{maybeVal:t[n]}}},exports.list={name:"List",of:function(n){return n.constructor===Array?n:[n]},chain:function(n,t){return t.chain(function(t){return t.reduce(function(t,r){return t.concat(n(r))},[])})},lift:function(n){return n.chain(function(t){return n.of([t])})}};

},{}],3:[function(require,module,exports){
"use strict";exports.prim=require("./prim"),exports.data=require("./data"),exports.comp=require("./comp");var idProto={of:function(n){return n},chain:function(n,t){return n(t)}},unwrap=function(n){if(!n.hasOwnProperty("_value"))throw JSON.stringify(n)+" is not a wrapped value";return n._value},wrapIn=function(n,t){var r=Object.create(n);return r._value=t,Object.freeze(r)};exports.make=function(n,t){function r(n){return wrapIn(i,n)}var e={of:n.of,chain:function(t,r){return n.chain(t,r,idProto)}},i={prototype:i,chain:function(n){var i=function(t){return unwrap(n(t))};return r(t.chain(i,this._value,e))},of:function(e){return r(n.of(t.of(e)))},map:function(n){var t=this;return this.chain(function(r){return t.of(n(r))})}},u=i["lift"+n.name]=function(n){return r(t.lift(n,e))},a=i["lift"+t.name]=function(t){return r(n.of(t))};i["chain"+t.name]=function(n){return this.chain(function(t){return a(n(t))})},i["chain"+n.name]=function(n){return this.chain(function(t){return u(n(t))})};var o=function(n){Object.keys(n).filter(function(n){return"of"!==n&&"chain"!==n&&"lift"!==n}).forEach(function(t){i[t]=function(){var r=Array.prototype.slice.call(arguments);return this.chain(function(e){return r.push(e),i["lift"+n.name](n[t].apply(null,r))})}})};return o(n),o(t),i[t.name]=t,i[n.name]=n,r.of=i.of,r["lift"+n.name]=i["lift"+n.name],r["lift"+t.name]=i["lift"+t.name],r};

},{"./comp":1,"./data":2,"./prim":4}],4:[function(require,module,exports){
"use strict";

},{}]},{},[1,2,3,4])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJjOlxcZ2l0LXByb2plY3RzXFxzb25uZVxcbGliXFxjb21wLmpzIiwiYzpcXGdpdC1wcm9qZWN0c1xcc29ubmVcXGxpYlxcZGF0YS5qcyIsImM6XFxnaXQtcHJvamVjdHNcXHNvbm5lXFxsaWJcXG1haW4uanMiLCJsaWIvcHJpbS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtZQ0FBLFNBQVEsT0FDTixLQUFNLFFBQ04sR0FBRyxTQUFDLEdBQ0YsTUFBTyxVQUFDLFVBQWUsRUFBSyxLQUU5QixNQUFNLFNBQUMsRUFBTSxHQUNYLE1BQU8sVUFBQyxTQUNOLEdBQUksR0FBVyxNQUFNLFNBQUMsR0FDcEIsR0FBTSxHQUFNLEVBQU8sR0FBSSxFQUFXLEVBQU8sRUFDekMsUUFBUSxFQUFLLEdBQU0sT0FHekIsS0FBSyxTQUFDLEdBQ0osTUFBTyxVQUFDLFNBQ04sR0FBSSxNQUFNLFNBQUMsVUFBZ0IsRUFBWSxPQUUzQyxLQUFLLFNBQUMsR0FDSixNQUFPLFVBQUMsVUFBZSxFQUFXLEtBRXBDLEtBQUssU0FBQyxHQUNKLE1BQU8sVUFBQyxVQUFlLEVBQUs7O0FBcEJoQyxPQUFPLENBQUMsS0FBSyxHQUFHO0FBQ2QsTUFBSSxFQUFFLElDRFIsR0RDZSxNQ0RQLElBQ04sS0FBTSxLQUNOLEdBQUcsU0FBQyxHQUFPLE9BQVEsTUFBTyxJQUMxQixNQUFNLFNBQUMsRUFBTSxFQUFLLEdBQ2hCLE1BQU8sR0FBTSxNQUFNLFNBQUMsU0FBWSxHQUFLLEVBQVEsUUFBUSxJQUV2RCxLQUFLLFNBQUMsRUFBSyxHQUNULE1BQU8sR0FBTSxNQUFNLFNBQUMsU0FBZSxHQUFJLElBQUksTUFBTyxLQUFjLEtBSXBFLFFBQVEsT0FDTixLQUFNLFFBQ04sR0FBRyxTQUFDLEdBQ0YsT0FBUSxTQUFVLElBRXBC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QyxBQ0NaLFVERGEsVUFBVTtBQ0U5QixHRkVELFFFRlEsRURGNEIsQ0NFekIsQ0FBQSxDREY0QixDQUFDLEVBQUUsQ0FBQyxFQUFDLEtBQUssRUFBRSxVQUFVLEVBQUMsQ0FBQztBREtoRSxHRUZDLEVESCtELENESzVELENDTDhELENESzdELEVDTGdFLENBQUMsQ0FBQSxVREtoRSxHQUFHLEVBQUU7QUFDVCxHQ0xELFFES1EsVUFBQyxTQUFTO0NDSnBCLENBQUEsV0RLSyxHQUFHLENBQUMsS0FBSyxDQUFDLFVBQUMsVUFBVTtlQUFLLENBQUMsVUFBVSxFQUFFLFNBQVMsQ0FBQztBQ0h2RCxBQ0dFLE9GQXFELEFDSGhELEFDR0EsQ0ZBaUQsQUNIaEQsQ0NHQSxJREhLLEdBQUcsUUNHUCxJQUFJLEVBQUUsR0FBRyxFQUFFO0FERmxCLEFDR0UsS0ZEb0QsQ0FBQSxBQ0ZsRCxFQUFFLEdDR0csSURISSxBQ0dBLENBQUMsR0FBRyxDQUFDLENBQUE7QURGbEIsR0RFQyxBRUNBLENESEMsRUFBQyxZQUFDLEdBQUcsRUFBRTtBREdULEFDRkUsQ0NHSCxDQUFBLElGREssRUFBQyxHQ0ZJLEVBQUMsUUFBUSxDREVaLENDRmMsRURFWCxDQ0ZjLENERVosQ0NGYyxDQUFBO0FER3ZCLEdDRkQsUURFUSxVQUFDLFNBQVM7QUNEbkIsT0FBSyxFQUFDLElEQ2tCLENBQUMsU0FBUyxDQ0QzQixDREM2QixHQ0R6QixFQUFFLEdBQUcsQ0RDNkIsQ0FBQyxBQ0Q1QixLQUFLLEVBQUU7QUFDdkIsQUNHSixJQUFNLENGSDBDLENBQUEsSUVHcEMsR0RIQSxBQ0dHLFNBQVQsTUFBTSxDQUFJLEdBQUcsRUFBSztBREZwQixBQ0dGLEdGSEMsR0VHRyxDQUFDLEdBQUcsQ0RIQyxBQ0dBLEtESEssQ0FBQyxLQUFLLENBQUMsRUNHRSxDQUFDLE9ESEYsQ0NHVSxDQUFDLEVBQUUsTURISDtBRENoQyxBRUVvQyxNRkZoQyxFQUFDLEVFRXFDLEdERnRDLENDRTBDLENBQUMsT0ZGekMsQ0NBUSxDQUFDLEFDRXlDLENGRi9DLEFFRWdELEVGRjlD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S0FBSyxDQUFDLElBQUksQ0FBRSxDQUFBO0FBQ25FLFFBQU0sQ0FBRyxNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBRSxHQUFHLFVBQVUsQ0FBRyxNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBRSxDQUFBOzs7QUFHbkUsU0FBTyxNQUFNLENBQUE7Q0FDZCxDQUFBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImV4cG9ydHMuc3RhdGUgPSB7XHJcbiAgbmFtZTogJ1N0YXRlJyxcclxuICBvZiAodmFsKSB7XHJcbiAgICByZXR1cm4gKHByZXZTdGF0ZSkgPT4gW3ZhbCwgcHJldlN0YXRlXVxyXG4gIH0sXHJcbiAgY2hhaW4gKGZ1bmssIHZhbCkge1xyXG4gICAgcmV0dXJuIChwcmV2U3RhdGUpID0+XHJcbiAgICAgIHZhbChwcmV2U3RhdGUpLmNoYWluKChwYXJhbXMpID0+IHtcclxuICAgICAgICBjb25zdCB2YWwgPSBwYXJhbXNbMF0sIG5ld1N0YXRlID0gcGFyYW1zWzFdXHJcbiAgICAgICAgcmV0dXJuIFtmdW5rKHZhbCksIG5ld1N0YXRlXVxyXG4gICAgICB9KVxyXG4gIH0sXHJcbiAgbGlmdCAodmFsKSB7XHJcbiAgICByZXR1cm4gKHByZXZTdGF0ZSkgPT5cclxuICAgICAgdmFsLmNoYWluKChpbm5lclZhbHVlKSA9PiBbaW5uZXJWYWx1ZSwgcHJldlN0YXRlXSlcclxuICB9LFxyXG4gIGxvYWQgKHZhbCkge1xyXG4gICAgcmV0dXJuIChwcmV2U3RhdGUpID0+IFtwcmV2U3RhdGUsIHByZXZTdGF0ZV1cclxuICB9LFxyXG4gIHNhdmUgKHZhbCkge1xyXG4gICAgcmV0dXJuIChwcmV2U3RhdGUpID0+IFt2YWwsIHZhbF1cclxuICB9XHJcbn1cclxuIiwiZXhwb3J0cy5pZCA9IHtcclxuICBuYW1lOiAnSUQnLFxyXG4gIG9mICh2YWwpIHsgcmV0dXJuIHtpZFZhbDogdmFsIH0gfSxcclxuICBjaGFpbiAoZnVuaywgdmFsLCBwcm90bykge1xyXG4gICAgcmV0dXJuIHByb3RvLmNoYWluKChpbm5lcklkKSA9PiBmdW5rKGlubmVySWQuaWRWYWwpLCB2YWwpXHJcbiAgfSxcclxuICBsaWZ0ICh2YWwsIHByb3RvKSB7XHJcbiAgICByZXR1cm4gcHJvdG8uY2hhaW4oKGlubmVyVmFsdWUpID0+IHZhbC5vZih7aWRWYWw6IGlubmVyVmFsdWV9KSwgdmFsKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0cy5tYXliZSA9IHtcclxuICBuYW1lOiAnTWF5YmUnLFxyXG4gIG9mICh2YWwpIHtcclxuICAgIHJldHVybiB7bWF5YmVWYWw6IHZhbCB9XHJcbiAgfSxcclxuICBjaGFpbiAoZnVuaywgdmFsLCBwcm90bykge1xyXG4gICAgZGVidWdnZXJcclxuICAgIHJldHVybiBwcm90by5jaGFpbigoaW5uZXJNYXliZSkgPT5cclxuICAgICAgaW5uZXJNYXliZS5tYXliZVZhbCA9PT0gdW5kZWZpbmVkID8gaW5uZXJNYXliZSA6IGZ1bmsoaW5uZXJNYXliZS5tYXliZVZhbCksIHZhbClcclxuICB9LFxyXG4gIGxpZnQgKHZhbCwgcHJvdG8pIHtcclxuICAgIHJldHVybiBwcm90by5jaGFpbigoaW5uZXJWYWx1ZSkgPT4gdmFsLm9mKHttYXliZVZhbDogaW5uZXJWYWx1ZX0pLCB2YWwpXHJcbiAgfSxcclxuICBnZXQgKGtleSwgdmFsKSB7XHJcbiAgICByZXR1cm4ge21heWJlVmFsOiB2YWxba2V5XX1cclxuICB9XHJcbn1cclxuZXhwb3J0cy5saXN0ID0ge1xyXG4gIG5hbWU6ICdMaXN0JyxcclxuICBvZiAodmFsKSB7XHJcbiAgICByZXR1cm4gdmFsLmNvbnN0cnVjdG9yID09PSBBcnJheSA/IHZhbCA6IFt2YWxdXHJcbiAgfSxcclxuICBjaGFpbiAoZnVuaywgdmFsKSB7XHJcbiAgICByZXR1cm4gdmFsLmNoYWluKChpbm5lckxpc3QpID0+XHJcbiAgICAgIGlubmVyTGlzdC5yZWR1Y2UoKGxpc3QsIHZhbCkgPT4gbGlzdC5jb25jYXQoZnVuayh2YWwpKSwgW10pKVxyXG4gIH0sXHJcbiAgbGlmdCAodmFsKSB7XHJcbiAgICByZXR1cm4gdmFsLmNoYWluKChpbm5lclZhbHVlKSA9PlxyXG4gICAgICB2YWwub2YoW2lubmVyVmFsdWVdKSlcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0cy5wcmltID0gcmVxdWlyZSgnLi9wcmltJylcclxuZXhwb3J0cy5kYXRhID0gcmVxdWlyZSgnLi9kYXRhJylcclxuZXhwb3J0cy5jb21wID0gcmVxdWlyZSgnLi9jb21wJylcclxuXHJcbmNvbnN0IGlkUHJvdG8gPSB7XHJcbiAgLy8gVGhlICdvZicgZnVuY3Rpb24gd3JhcHMgYSB2YWx1ZSBpbiBhIG1vbmFkLlxyXG4gIC8vIEluIHRoZSBjYXNlIG9mIHRoZSBpZGVudGl0eSBtb25hZCwgd2UgZG9uJ3QgZG8gYW55dGhpbmcsIHNvIHdlIGRvbid0IHJlYWxseVxyXG4gIC8vIG5lZWQgdG8gd3JhcCBpdC5cclxuICBvZiAodmFsKSB7XHJcbiAgICByZXR1cm4gdmFsXHJcbiAgfSxcclxuICAvLyBpZGVudGl0eSBtb25hZCdzIGNoYWluIGltcGxlbWVudGF0aW9uLlxyXG4gIC8vIFNpbmNlIG5vIHBhY2tpbmcgYW5kIHVucGFja2luZyB0YWtlcyBwbGFjZSxcclxuICAvLyBhbGwgd2UgaGF2ZSB0byBkbyBpcyB0byBhcHBseSB0aGUgZnVuY3Rpb25cclxuICBjaGFpbiAoZnVuaywgdmFsKSB7XHJcbiAgICByZXR1cm4gZnVuayh2YWwpXHJcbiAgfVxyXG59XHJcblxyXG4vLyBVbndyYXBzIGEgd3JhcHBlZCB2YWx1ZVxyXG5jb25zdCB1bndyYXAgPSAodmFsKSA9PiB7XHJcbiAgaWYgKCF2YWwuaGFzT3duUHJvcGVydHkoJ192YWx1ZScpKSB7dGhyb3cgSlNPTi5zdHJpbmdpZnkodmFsKSArICcgaXMgbm90IGEgd3JhcHBlZCB2YWx1ZSd9XHJcbiAgcmV0dXJuIHZhbC5fdmFsdWVcclxufVxyXG5cclxuLy8gV3JhcHMgYSB2YWx1ZSBpbiBhIHNwZWNpZmllZCBwcm90b3R5cGVcclxuY29uc3Qgd3JhcEluID0gKHByb3RvLCB2YWwpID0+IHtcclxuICB2YXIgb2JqID0gT2JqZWN0LmNyZWF0ZShwcm90bylcclxuICBvYmouX3ZhbHVlID0gdmFsXHJcbiAgcmV0dXJuIE9iamVjdC5mcmVlemUob2JqKVxyXG59XHJcblxyXG5leHBvcnRzLm1ha2UgPSBmdW5jdGlvbiBtYWtlX21vbmFkIChvdXRlciwgaW5uZXIpIHtcclxuICAvLyBUaGUgY29uc3RydWN0b3IgZnVuY3Rpb24gY3JlYXRlcyBhIG5ldyBvYmplY3QgYW5kIHdyYXBzIGl0IGluIHRoZSBzdGFjayBwcm90b3R5cGVcclxuICBmdW5jdGlvbiBjcmVhdGUgKHZhbCkge1xyXG4gICAgcmV0dXJuIHdyYXBJbihzdGFja1Byb3RvLCB2YWwpXHJcbiAgfVxyXG5cclxuICAvLyBEZWZpbmUgdGhlIHByb3RvdHlwZSBvZiB0aGUgb3V0ZXIgbW9uYWQuXHJcbiAgY29uc3Qgb3V0ZXJQcm90byA9IHtcclxuICAgIG9mOiBvdXRlci5vZixcclxuICAgIC8vIEhlcmUgd2UganVzdCB0YWtlIHRoZSAnY2hhaW4nIGZ1bmN0aW9uIGZyb20gdGhlIG1vbmFkJ3MgZGVmaW5pdGlvbixcclxuICAgIC8vIGFuZCBhcHBseSBpdCB0byB0aGUgdmFsdWUsIHBsYWNlZCBpbiB0aGUgb2JqZWN0J3MgJ192YWx1ZScgcHJvcGVydHlcclxuICAgIC8vIFdoZW4gd2Ugc3RhY2sgbW9uYWQgdHJhbnNmb3JtZXJzLCB3ZSBtdXN0IGhhdmUgYSByZWFsIG1vbmFkIGF0IHRoZSBib3R0b20uXHJcbiAgICAvLyBUaGF0IGlzIHdoeSB3ZSB3cmFwIG91ciB2YWx1ZSBpbiBhbiBJRCBtb25hZFxyXG4gICAgY2hhaW4gKGZ1bmssIHZhbCkge1xyXG4gICAgICByZXR1cm4gb3V0ZXIuY2hhaW4oZnVuaywgdmFsLCBpZFByb3RvKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRGVmaW5lIHRoZSBwcm90b3R5cGUgb2YgdGhlIHJlc3VsdGluZyBtb25hZCBzdGFja1xyXG4gIGNvbnN0IHN0YWNrUHJvdG8gPSB7XHJcbiAgICBwcm90b3R5cGU6IHN0YWNrUHJvdG8sXHJcblxyXG4gICAgLy8gQWRkIGNoYWluIGZ1bmN0aW9uXHJcbiAgICBjaGFpbiAoZnVuaykge1xyXG4gICAgICBjb25zdCBmdW5rQW5kVW53cmFwID0gKHZhbCkgPT4gdW53cmFwKGZ1bmsodmFsKSlcclxuICAgICAgcmV0dXJuIGNyZWF0ZShpbm5lci5jaGFpbihmdW5rQW5kVW53cmFwLCB0aGlzLl92YWx1ZSwgb3V0ZXJQcm90bykpXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIEFkZCAnbWFwJyBhbmQgJ29mJyBmdW5jdGlvbnNcclxuICAgIG9mICh2YWx1ZSkge1xyXG4gICAgICByZXR1cm4gY3JlYXRlKG91dGVyLm9mKGlubmVyLm9mKHZhbHVlKSkpXHJcbiAgICB9LFxyXG4gICAgbWFwIChmdW5rKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmNoYWluKCh2YWwpID0+IHRoaXMub2YoZnVuayh2YWwpKSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIExpZnRzIGEgdmFsdWUgZnJvbSB0aGUgb3V0ZXIgdHlwZSB0byBhIGZ1bGwgc3RhY2tcclxuICBjb25zdCBsaWZ0T3V0ZXIgPSBzdGFja1Byb3RvIFsgJ2xpZnQnICsgb3V0ZXIubmFtZSBdID0gKHZhbCkgPT4gY3JlYXRlKGlubmVyLmxpZnQodmFsLCBvdXRlclByb3RvKSlcclxuICBjb25zdCBsaWZ0SW5uZXIgPSBzdGFja1Byb3RvIFsgJ2xpZnQnICsgaW5uZXIubmFtZSBdID0gKHZhbCkgPT4gY3JlYXRlKG91dGVyLm9mKHZhbCkpXHJcblxyXG4gIC8vIEFkZCB2YXJpYW50cyBvZiAnY2hhaW4nIGNvbXBvc2VkIHdpdGggbGlmdCwgd2hpY2ggd29yayBpbiBpbm5lciBhbmQgb3V0ZXIgdmFsdWVzXHJcbiAgc3RhY2tQcm90byBbICdjaGFpbicgKyBpbm5lci5uYW1lIF0gPSBmdW5jdGlvbiAoZnVuaykge1xyXG4gICAgcmV0dXJuIHRoaXMuY2hhaW4oKHZhbCkgPT4gbGlmdElubmVyKGZ1bmsodmFsKSkpXHJcbiAgfVxyXG4gIHN0YWNrUHJvdG8gWyAnY2hhaW4nICsgb3V0ZXIubmFtZSBdID0gZnVuY3Rpb24gKGZ1bmspIHtcclxuICAgIHJldHVybiB0aGlzLmNoYWluKCh2YWwpID0+IGxpZnRPdXRlcihmdW5rKHZhbCkpKVxyXG4gIH1cclxuXHJcbiAgLy8gVXNpbmcgdGhlIGxpZnQgb3BlcmF0aW9ucywgbGlmdCBhbGwgbW9uYWQgaGVscGVycyBhbmQgYXNzaWduIHRoZW0gdG8gdGhlIHN0YWNrIG9iamVjdDpcclxuICBjb25zdCBleHRlbmQgPSAob3V0ZXIpID0+IHtcclxuICAgIE9iamVjdC5rZXlzKG91dGVyKVxyXG4gICAgICAuZmlsdGVyKChrZXkpID0+IChrZXkgIT09ICdvZicgJiYga2V5ICE9PSAnY2hhaW4nICYmIGtleSAhPT0gJ2xpZnQnKSlcclxuICAgICAgLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgIHN0YWNrUHJvdG9ba2V5XSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpXHJcblxyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuY2hhaW4oKHZhbCkgPT4ge1xyXG4gICAgICAgICAgICBhcmdzLnB1c2godmFsKVxyXG4gICAgICAgICAgICByZXR1cm4gc3RhY2tQcm90b1sgJ2xpZnQnICsgb3V0ZXIubmFtZSBdKG91dGVyW2tleV0uYXBwbHkobnVsbCwgYXJncykpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICB9XHJcbiAgZXh0ZW5kKG91dGVyKVxyXG4gIGV4dGVuZChpbm5lcilcclxuICAvLyBBZGQgYWxpYXNlcyB0byB0aGUgbW9uYWRzIHRoZW1zZWx2ZXNcclxuICBzdGFja1Byb3RvIFsgaW5uZXIubmFtZSBdID0gaW5uZXJcclxuICBzdGFja1Byb3RvIFsgb3V0ZXIubmFtZSBdID0gb3V0ZXJcclxuXHJcbiAgLy8gQWRkIHJlbGV2YW50IHByb3RvdHlwZSBwcm9wZXJ0aWVzIHRvIHRoZSBjb25zdHJ1Y3RvclxyXG4gIGNyZWF0ZS5vZiA9IHN0YWNrUHJvdG8ub2ZcclxuICBjcmVhdGUgWyAnbGlmdCcgKyBvdXRlci5uYW1lIF0gPSBzdGFja1Byb3RvIFsgJ2xpZnQnICsgb3V0ZXIubmFtZSBdXHJcbiAgY3JlYXRlIFsgJ2xpZnQnICsgaW5uZXIubmFtZSBdID0gc3RhY2tQcm90byBbICdsaWZ0JyArIGlubmVyLm5hbWUgXVxyXG5cclxuICAvLyBTdGFjayBjb25zdHJ1Y3RvclxyXG4gIHJldHVybiBjcmVhdGVcclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLy9AIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pWXpvdloybDBMWEJ5YjJwbFkzUnpMM052Ym01bEwyeHBZaTl3Y21sdExtcHpJaXdpYzI5MWNtTmxjeUk2V3lKak9seGNaMmwwTFhCeWIycGxZM1J6WEZ4emIyNXVaVnhjYkdsaVhGeHdjbWx0TG1weklsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lJaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNlcxMTkiXX0=
