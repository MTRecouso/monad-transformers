(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";exports.promise={name:"promise",of:function(n){return function(t){return t(n)}},map:function(n,t){return function(u){t(function(t){return u(n(t))})}},flat:function(n,t){return function(u){n(function(n){t.map(function(r){r(function(r){u(t.map(function(){return r},n))})},n)})}}};

},{}],2:[function(require,module,exports){
"use strict";exports.id={name:"ID",of:function(n){return{idVal:n}},chain:function(n,t){return t.chain(function(t){return n(t.idVal)})},lift:function(n){return n.chain(function(t){return n.of({idVal:t})})}},exports.maybe={name:"Maybe",of:function(n){return{maybeVal:n}},chain:function(n,t){return t.chain(function(t){return void 0===t.maybeVal?t:n(t.maybeVal)})},lift:function(n){return n.chain(function(t){return n.of({maybeVal:t})})},nothing:function(){return{maybeValue:void 0}},get:function(n,t){return{maybeVal:t[n]}}},exports.list={name:"list",of:function(n){return console.log(n),n.constructor===Array?n:[n]},chain:function(n,t,r){return r.chain(function(t){return t.reduce(function(t,r){return t.concat(n(r))})},t,r.inner)}};

},{}],3:[function(require,module,exports){
"use strict";exports.prim=require("./prim"),exports.data=require("./data"),exports.comp=require("./comp");var idProto={of:function(n){return n},chain:function(n){return n(this._value)}},unwrap=function(n){if(!n.hasOwnProperty("_value"))throw JSON.stringify(n)+" is not a wrapped value";return n._value},wrapIn=function(n,r){var t=Object.create(n);return t._value=r,Object.freeze(t)};exports.make=function(n,r){function t(n){return wrapIn(i,n)}var e={of:n.of,chain:function(r){return n.chain(r,wrapIn(idProto,this._value))}},i={prototype:i,chain:function(n){var i=function(r){return unwrap(n(r))};return t(r.chain(i,wrapIn(e,this._value)))},of:function(e){return t(n.of(r.of(e)))},map:function(n){var r=this;return this.chain(function(t){return r.of(n(t))})}},u=i["lift"+n.name]=function(n){return t(r.lift(wrapIn(e,n)))},a=i["lift"+r.name]=function(r){return t(n.of(r))};i["chain"+r.name]=function(n){return this.chain(function(r){return a(n(r))})},i["chain"+n.name]=function(n){return this.chain(function(r){return u(n(r))})};var o=function(n){Object.keys(n).filter(function(n){return"of"!==n&&"chain"!==n&&"lift"!==n}).forEach(function(r){i[r]=function(){var t=Array.prototype.slice.call(arguments);return this.chain(function(e){return t.push(e),i["lift"+n.name](n[r].apply(null,t))})}})};return o(n),o(r),i[r.name]=r,i[n.name]=n,t.of=i.of,t["lift"+n.name]=i["lift"+n.name],t["lift"+r.name]=i["lift"+r.name],t};

},{"./comp":1,"./data":2,"./prim":4}],4:[function(require,module,exports){
"use strict";

},{}]},{},[1,2,3,4])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJEOlxccHJcXHNvbm5lXFxsaWJcXGNvbXAuanMiLCJEOlxccHJcXHNvbm5lXFxsaWJcXGRhdGEuanMiLCJEOlxccHJcXHNvbm5lXFxsaWJcXG1haW4uanMiLCJsaWIvcHJpbS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtZQ0FBLFNBQVEsU0FDTixLQUFNLFVBQ04sR0FBSSxTQUFVLEdBQU0sTUFBTyxVQUFVLEdBQVcsTUFBTyxHQUFRLEtBQy9ELElBQUssU0FBVSxFQUFNLEdBQ25CLE1BQU8sVUFBVSxHQUNmLEVBQUksU0FBVSxHQUNaLE1BQU8sR0FBUSxFQUFLLFFBSzFCLEtBQU0sU0FBVSxFQUFLLEdBQ25CLE1BQU8sVUFBVSxHQUNmLEVBQUksU0FBVSxHQUNaLEVBQVcsSUFBSSxTQUFVLEdBQ3ZCLEVBQWEsU0FBVSxHQUNyQixFQUFRLEVBQVcsSUFBSSxXQUFhLE1BQU8sSUFBUSxPQUVwRDs7QUFsQlgsT0FBTyxDQUFDLE9BQU8sR0FBRztBQUNoQixNQUFJLEVBQUUsSUNEUixLRENpQixJQ0RULElBQ04sS0FBTSxLQUNOLEdBQUcsU0FBQyxHQUFPLE9BQVEsTUFBTyxJQUMxQixNQUFNLFNBQUMsRUFBTSxHQUNYLE1BQU8sR0FBSSxNQUFNLFNBQVUsR0FDekIsTUFBTyxHQUFLLEVBQVEsVUFHeEIsS0FBSyxTQUFDLEdBQ0osTUFBTyxHQUFJLE1BQU0sU0FBVSxHQUFhLE1BQU8sR0FBSSxJQUFJLE1BQU8sUUFJbEUsUUFBUSxPQUNOLEtBQU0sUUFDTixHQUFHLFNBQUMsR0FBTyxPQUFRLFNBQVUsSUFDN0IsTUFBTSxTQUFDLEVBQU0sR0FDWCxNQUFPLEdBQUksTUFBTSxTQUFVLEdBRXpCLE1BQStCLFVBQXhCLEVBQVcsU0FBeUIsRUFBYSxFQUFLLEVBQVcsYUFHNUUsS0FB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QUFhLE9BQVMsRUFBTSxNQUd0RDtBRDFHUCxJQUFFLENEQWtFLENBQUEsQUNBakUsWUFBQyxHQUFHLEVBQUU7QUFBRSxBQ0ZiLEdGRXdFLElFRmpFLENBQUMsR0RFWSxDQ0ZSLENERVMsRUNGTixHREVXLEVBQUUsRUNGTixDREVTLEFDRlIsRURFVSxDQUFBLEtDRkYsQ0FBQyxDQUFBO0FGRzlCLEFFRkYsQUNEQSxHRkVtQyxFREM5QixFQUFFLEFFRkEsQ0FBQyxJQUFJLEdBQUcsS0ZFRSxFRUZLLENBQUMsQ0ZFRixFQUFFLEdBQUcsRUFBRSxBRUZHLENBQUMsQ0FBQTtBRkc1QixBQ0RGLEFDREYsQUNEQSxPRkVPLEFDREEsQ0FBQyxDRENBLEVEQ0csQ0VGQyxHQUFHLE1GRU0sQ0VGQyxDQUFDLENEQ2QsSURDbUIsQUNEZixFRENpQixBQ0RmLENDRGdCLENBQUMsQ0RDZCxBQ0RjLEVEQ1o7QURFZCxBQ0RGLEFFRkosU0hHUyxDQUFDLENDREMsR0FBRyxDQUFDLEtEQ0ssQUNEQSxDQUFDLElEQ0ksRUFBRSxJQ0RJLE9BQU8sRUFBRTtBREVoQyxBQ0RGLEFDRE4sSUFBTSxPQUFPLEVEQ0EsQ0NERyxDRkVELEVDREUsQ0FBQyxJRENJLENBQUMsRUNERSxDQUFDLENEQ0MsQ0FBQyxHQ0RHLENBQUMsQ0RDQyxBQ0RELENEQ0UsQ0FBQyxDQUFBO0tDQTlCLENBQUMsQ0RDQyxBQ0RELENEQ0UsQ0FBQTtHQ0FMLEVEQ0UsQ0FBQTtBQ0FILEdEQ0MsR0NERyxFQUFDLGNBQUMsR0FBRyxFQUFFO0FBQ1QsQUNERixJQUFFLEVBQUMsS0RDTSxHQUFHLENBQUMsR0NEVCxFRENjLENBQUMsQUNEWixFQUFFLFFEQ29CLFVBQVUsRUFBRTtBREV6QyxBQ0YwQyxBQ0F4QyxNRkVFLEVBQUUsR0VGRyxFREF3QyxDQ0FyQyxDQUFBLENEQXdDLENBQUMsRUFBRSxDQUFDLEVERXhDLEFDRnlDLEdERXRDLEVBQUUsQUNGeUMsRUFBRSxRREVqQyxFQUFFLEFDRnlDLEVBQUMsQ0FBQyxDQUFBO0FERzFFLEdFRkQsRURENEUsQ0FBQyxD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QUFBO0NBQ2QsQ0FBQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJleHBvcnRzLnByb21pc2UgPSB7XHJcbiAgbmFtZTogJ3Byb21pc2UnLFxyXG4gIG9mOiBmdW5jdGlvbiAodmFsKSB7cmV0dXJuIGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJldHVybiByZXNvbHZlKHZhbCl9IH0sXHJcbiAgbWFwOiBmdW5jdGlvbiAoZnVuaywgdmFsKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuICAgICAgdmFsKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiByZXNvbHZlKGZ1bmsodmFsdWUpKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGZsYXQ6IGZ1bmN0aW9uICh2YWwsIGlubmVyTW9uYWQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG4gICAgICB2YWwoZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICBpbm5lck1vbmFkLm1hcChmdW5jdGlvbiAoaW5uZXJQcm9taXNlKSB7XHJcbiAgICAgICAgICBpbm5lclByb21pc2UoZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoaW5uZXJNb25hZC5tYXAoZnVuY3Rpb24gKCkge3JldHVybiB2YWx1ZX0sIGkpKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9LCBpKVxyXG5cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiZXhwb3J0cy5pZCA9IHtcclxuICBuYW1lOiAnSUQnLFxyXG4gIG9mICh2YWwpIHsgcmV0dXJuIHtpZFZhbDogdmFsIH0gfSxcclxuICBjaGFpbiAoZnVuaywgdmFsKSB7XHJcbiAgICByZXR1cm4gdmFsLmNoYWluKGZ1bmN0aW9uIChpbm5lcklkKSB7XHJcbiAgICAgIHJldHVybiBmdW5rKGlubmVySWQuaWRWYWwpXHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgbGlmdCAodmFsKSB7XHJcbiAgICByZXR1cm4gdmFsLmNoYWluKGZ1bmN0aW9uIChpbm5lclZhbHVlKSB7cmV0dXJuIHZhbC5vZih7aWRWYWw6IGlubmVyVmFsdWV9KX0pXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnRzLm1heWJlID0ge1xyXG4gIG5hbWU6ICdNYXliZScsXHJcbiAgb2YgKHZhbCkgeyByZXR1cm4ge21heWJlVmFsOiB2YWwgfSB9LFxyXG4gIGNoYWluIChmdW5rLCB2YWwpIHtcclxuICAgIHJldHVybiB2YWwuY2hhaW4oZnVuY3Rpb24gKGlubmVyTWF5YmUpIHtcclxuICAgICAgdmFsXHJcbiAgICAgIHJldHVybiBpbm5lck1heWJlLm1heWJlVmFsID09PSB1bmRlZmluZWQgPyBpbm5lck1heWJlIDogZnVuayhpbm5lck1heWJlLm1heWJlVmFsKVxyXG4gICAgfSlcclxuICB9LFxyXG4gIGxpZnQgKHZhbCkge1xyXG4gICAgcmV0dXJuIHZhbC5jaGFpbihmdW5jdGlvbiAoaW5uZXJWYWx1ZSkge3JldHVybiB2YWwub2Yoe21heWJlVmFsOiBpbm5lclZhbHVlfSl9KVxyXG4gIH0sXHJcbiAgbm90aGluZyAoKSB7IHJldHVybiB7bWF5YmVWYWx1ZTogdW5kZWZpbmVkfX0sXHJcbiAgZ2V0IChrZXksIHZhbCkgeyByZXR1cm4ge21heWJlVmFsOiB2YWxba2V5XX19XHJcbn1cclxuZXhwb3J0cy5saXN0ID0ge1xyXG4gIG5hbWU6ICdsaXN0JyxcclxuICBvZiAodmFsKSB7Y29uc29sZS5sb2codmFsKTsgcmV0dXJuIHZhbC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgPyB2YWwgOiBbdmFsXSB9LFxyXG4gIGNoYWluIChmdW5rLCB2YWwsIGlubmVyTW9uYWQpIHtcclxuICAgIHJldHVybiBpbm5lck1vbmFkLmNoYWluKGZ1bmN0aW9uIChpbm5lckxpc3QpIHtcclxuICAgICAgcmV0dXJuIGlubmVyTGlzdC5yZWR1Y2UoKGxpc3QsIHZhbCkgPT4gbGlzdC5jb25jYXQoZnVuayh2YWwpKSlcclxuICAgIH0sIHZhbCwgaW5uZXJNb25hZC5pbm5lcilcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0cy5wcmltID0gcmVxdWlyZSgnLi9wcmltJylcclxuZXhwb3J0cy5kYXRhID0gcmVxdWlyZSgnLi9kYXRhJylcclxuZXhwb3J0cy5jb21wID0gcmVxdWlyZSgnLi9jb21wJylcclxuXHJcbmNvbnN0IGlkUHJvdG8gPSB7XHJcbiAgLy8gVGhlICdvZicgZnVuY3Rpb24gd3JhcHMgYSB2YWx1ZSBpbiBhIG1vbmFkLlxyXG4gIC8vIEluIHRoZSBjYXNlIG9mIHRoZSBpZGVudGl0eSBtb25hZCwgd2UgZG9uJ3QgZG8gYW55dGhpbmcsIHNvIHdlIGRvbid0IHJlYWxseVxyXG4gIC8vIG5lZWQgdG8gd3JhcCBpdC5cclxuICBvZiAodmFsKSB7XHJcbiAgICByZXR1cm4gdmFsXHJcbiAgfSxcclxuICAvLyBpZGVudGl0eSBtb25hZCdzIGNoYWluIGltcGxlbWVudGF0aW9uLlxyXG4gIC8vIFNpbmNlIG5vIHBhY2tpbmcgYW5kIHVucGFja2luZyB0YWtlcyBwbGFjZSxcclxuICAvLyBhbGwgd2UgaGF2ZSB0byBkbyBpcyB0byBhcHBseSB0aGUgZnVuY3Rpb25cclxuICBjaGFpbiAoZnVuaykge1xyXG4gICAgcmV0dXJuIGZ1bmsodGhpcy5fdmFsdWUpXHJcbiAgfVxyXG59XHJcblxyXG4vLyBVbndyYXBzIGEgd3JhcHBlZCB2YWx1ZVxyXG5jb25zdCB1bndyYXAgPSAodmFsKSA9PiB7XHJcbiAgaWYgKCF2YWwuaGFzT3duUHJvcGVydHkoJ192YWx1ZScpKSB7dGhyb3cgSlNPTi5zdHJpbmdpZnkodmFsKSArICcgaXMgbm90IGEgd3JhcHBlZCB2YWx1ZSd9XHJcbiAgcmV0dXJuIHZhbC5fdmFsdWVcclxufVxyXG5cclxuLy8gV3JhcHMgYSB2YWx1ZSBpbiBhIHNwZWNpZmllZCBwcm90b3R5cGVcclxuY29uc3Qgd3JhcEluID0gKHByb3RvLCB2YWwpID0+IHtcclxuICB2YXIgb2JqID0gT2JqZWN0LmNyZWF0ZShwcm90bylcclxuICBvYmouX3ZhbHVlID0gdmFsXHJcbiAgcmV0dXJuIE9iamVjdC5mcmVlemUob2JqKVxyXG59XHJcblxyXG5leHBvcnRzLm1ha2UgPSBmdW5jdGlvbiBtYWtlX21vbmFkIChvdXRlciwgaW5uZXIpIHtcclxuICAvLyBUaGUgY29uc3RydWN0b3IgZnVuY3Rpb24gY3JlYXRlcyBhIG5ldyBvYmplY3QgYW5kIHdyYXBzIGl0IGluIHRoZSBzdGFjayBwcm90b3R5cGVcclxuICBmdW5jdGlvbiBjcmVhdGUgKHZhbCkge1xyXG4gICAgcmV0dXJuIHdyYXBJbihzdGFja1Byb3RvLCB2YWwpXHJcbiAgfVxyXG5cclxuICAvLyBEZWZpbmUgdGhlIHByb3RvdHlwZSBvZiB0aGUgb3V0ZXIgbW9uYWQuXHJcbiAgY29uc3Qgb3V0ZXJQcm90byA9IHtcclxuICAgIG9mOiBvdXRlci5vZixcclxuICAgIC8vIEhlcmUgd2UganVzdCB0YWtlIHRoZSAnY2hhaW4nIGZ1bmN0aW9uIGZyb20gdGhlIG1vbmFkJ3MgZGVmaW5pdGlvbixcclxuICAgIC8vIGFuZCBhcHBseSBpdCB0byB0aGUgdmFsdWUsIHBsYWNlZCBpbiB0aGUgb2JqZWN0J3MgJ192YWx1ZScgcHJvcGVydHlcclxuICAgIC8vIFdoZW4gd2Ugc3RhY2sgbW9uYWQgdHJhbnNmb3JtZXIgbXVzdCBoYXZlIGEgcmVhbCBhdCB0aGUgYm90dG9tLlxyXG4gICAgLy8gVGhhdCBpcyB3aHkgd2Ugd3JhcCBvdXIgdmFsdWUgaW4gYW4gSUQgbW9uYWRcclxuICAgIGNoYWluIChmdW5rKSB7XHJcbiAgICAgIHJldHVybiBvdXRlci5jaGFpbihmdW5rLCB3cmFwSW4oaWRQcm90bywgdGhpcy5fdmFsdWUpKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRGVmaW5lIHRoZSBwcm90b3R5cGUgb2YgdGhlIHJlc3VsdGluZyBtb25hZCBzdGFja1xyXG4gIGNvbnN0IHN0YWNrUHJvdG8gPSB7XHJcbiAgICBwcm90b3R5cGU6IHN0YWNrUHJvdG8sXHJcblxyXG4gICAgLy8gQWRkIGNoYWluIGZ1bmN0aW9uXHJcbiAgICBjaGFpbiAoZnVuaykge1xyXG4gICAgICBjb25zdCBmdW5rQW5kVW53cmFwID0gKHZhbCkgPT4gdW53cmFwKGZ1bmsodmFsKSlcclxuICAgICAgcmV0dXJuIGNyZWF0ZShpbm5lci5jaGFpbihmdW5rQW5kVW53cmFwLCB3cmFwSW4ob3V0ZXJQcm90bywgdGhpcy5fdmFsdWUpKSlcclxuICAgIH0sXHJcblxyXG4gICAgLy8gQWRkICdtYXAnIGFuZCAnb2YnIGZ1bmN0aW9uc1xyXG4gICAgb2YgKHZhbHVlKSB7XHJcbiAgICAgIHJldHVybiBjcmVhdGUob3V0ZXIub2YoaW5uZXIub2YodmFsdWUpKSlcclxuICAgIH0sXHJcbiAgICBtYXAgKGZ1bmspIHtcclxuICAgICAgcmV0dXJuIHRoaXMuY2hhaW4oKHZhbCkgPT4gdGhpcy5vZihmdW5rKHZhbCkpKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gTGlmdHMgYSB2YWx1ZSBmcm9tIHRoZSBvdXRlciB0eXBlIHRvIGEgZnVsbCBzdGFja1xyXG4gIGNvbnN0IGxpZnRPdXRlciA9IHN0YWNrUHJvdG8gWyAnbGlmdCcgKyBvdXRlci5uYW1lIF0gPSAodmFsKSA9PiBjcmVhdGUoaW5uZXIubGlmdCh3cmFwSW4ob3V0ZXJQcm90bywgdmFsKSkpXHJcbiAgY29uc3QgbGlmdElubmVyID0gc3RhY2tQcm90byBbICdsaWZ0JyArIGlubmVyLm5hbWUgXSA9ICh2YWwpID0+IGNyZWF0ZShvdXRlci5vZih2YWwpKVxyXG5cclxuICAvLyBBZGQgdmFyaWFudHMgb2YgJ2NoYWluJyBjb21wb3NlZCB3aXRoIGxpZnQsIHdoaWNoIHdvcmsgaW4gaW5uZXIgYW5kIG91dGVyIHZhbHVlc1xyXG4gIHN0YWNrUHJvdG8gWyAnY2hhaW4nICsgaW5uZXIubmFtZSBdID0gZnVuY3Rpb24gKGZ1bmspIHtcclxuICAgIHJldHVybiB0aGlzLmNoYWluKCh2YWwpID0+IGxpZnRJbm5lcihmdW5rKHZhbCkpKVxyXG4gIH1cclxuICBzdGFja1Byb3RvIFsgJ2NoYWluJyArIG91dGVyLm5hbWUgXSA9IGZ1bmN0aW9uIChmdW5rKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jaGFpbigodmFsKSA9PiBsaWZ0T3V0ZXIoZnVuayh2YWwpKSlcclxuICB9XHJcblxyXG4gIC8vIFVzaW5nIHRoZSBsaWZ0IG9wZXJhdGlvbnMsIGxpZnQgYWxsIG1vbmFkIGhlbHBlcnMgYW5kIGFzc2lnbiB0aGVtIHRvIHRoZSBzdGFjayBvYmplY3Q6XHJcbiAgY29uc3QgZXh0ZW5kID0gKG91dGVyKSA9PiB7XHJcbiAgICBPYmplY3Qua2V5cyhvdXRlcilcclxuICAgICAgLmZpbHRlcigoa2V5KSA9PiAoa2V5ICE9PSAnb2YnICYmIGtleSAhPT0gJ2NoYWluJyAmJiBrZXkgIT09ICdsaWZ0JykpXHJcbiAgICAgIC5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICBzdGFja1Byb3RvW2tleV0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBjb25zdCBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxyXG5cclxuICAgICAgICAgIHJldHVybiB0aGlzLmNoYWluKCh2YWwpID0+IHtcclxuICAgICAgICAgICAgYXJncy5wdXNoKHZhbClcclxuICAgICAgICAgICAgcmV0dXJuIHN0YWNrUHJvdG9bICdsaWZ0JyArIG91dGVyLm5hbWUgXShvdXRlcltrZXldLmFwcGx5KG51bGwsIGFyZ3MpKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgfVxyXG4gIGV4dGVuZChvdXRlcilcclxuICBleHRlbmQoaW5uZXIpXHJcbiAgLy8gQWRkIGFsaWFzZXMgdG8gdGhlIG1vbmFkcyB0aGVtc2VsdmVzXHJcbiAgc3RhY2tQcm90byBbIGlubmVyLm5hbWUgXSA9IGlubmVyXHJcbiAgc3RhY2tQcm90byBbIG91dGVyLm5hbWUgXSA9IG91dGVyXHJcblxyXG4gIC8vIEFkZCByZWxldmFudCBwcm90b3R5cGUgcHJvcGVydGllcyB0byB0aGUgY29uc3RydWN0b3JcclxuICBjcmVhdGUub2YgPSBzdGFja1Byb3RvLm9mXHJcbiAgY3JlYXRlIFsgJ2xpZnQnICsgb3V0ZXIubmFtZSBdID0gc3RhY2tQcm90byBbICdsaWZ0JyArIG91dGVyLm5hbWUgXVxyXG4gIGNyZWF0ZSBbICdsaWZ0JyArIGlubmVyLm5hbWUgXSA9IHN0YWNrUHJvdG8gWyAnbGlmdCcgKyBpbm5lci5uYW1lIF1cclxuXHJcbiAgLy8gU3RhY2sgY29uc3RydWN0b3JcclxuICByZXR1cm4gY3JlYXRlXHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vQCBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJa1E2WEZ4d2NseGNjMjl1Ym1WY1hHeHBZbHhjY0hKcGJTNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lJaXdpWm1sc1pTSTZJa1E2TDNCeUwzTnZibTVsTDJ4cFlpOXdjbWx0TG1weklpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sdGRmUT09Il19
